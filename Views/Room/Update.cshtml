@model Phong
@{
    ViewData["Title"] = "Create room";
}
<div class="text-center">
    <h2 class="display-4">CẬP NHẬT PHÒNG</h2>
</div>

<!-- Main content container -->
<div class="container mt-5">

    <!-- Form for creating a room -->
    <form asp-action="Update" method="post">
        <div class="row mt-4">
            <div class="col-md-6">
                <!-- Room code input -->
                <div class="form-group">
                    <label asp-for="Map" class="font-weight-bold">Mã phòng</label>
                    <input type="text" asp-for="Map" class="form-control" />
                    <span asp-validation-for="Map" class="text-danger"></span>
                </div>

                <!-- Room name input -->
                <div class="form-group">
                    <label asp-for="Tenphong" class="font-weight-bold">Tên phòng</label>
                    <input type="text" asp-for="Tenphong" class="form-control" />
                    <span asp-validation-for="Tenphong" class="text-danger"></span>
                </div>

                <!-- Room type selection -->
                <div class="form-group">
                    <label asp-for="Loai" class="font-weight-bold">Loại phòng</label>
                    <select class="form-control" asp-for="Loai" id="roomType">
                        <option value="Vip">Vip</option>
                        <option value="BinhDan">Bình dân</option>
                        <option value="GiaDinh">Gia đình</option>
                    </select>
                    <span asp-validation-for="Loai" class="text-danger"></span>
                </div>
            </div>

            <div class="col-md-6">
                <!-- Room price input -->
                <div class="form-group">
                    <label asp-for="Dongia" class="font-weight-bold">Đơn giá</label>
                    <div class="input-group">
                        <input type="number" asp-for="Dongia" id="Price" class="form-control" readonly />
                        <div class="input-group-append">
                            <span class="input-group-text">VND</span>
                        </div>
                    </div>
                    <span asp-validation-for="Dongia" class="text-danger"></span>
                </div>

                <!-- Room status checkbox -->
                <div class="form-group">
                    <label class="font-weight-bold" asp-for="Tinhtrang">Tình trạng</label>
                    <select class="form-control" asp-for="Tinhtrang" id="roomType">
                        <option value="true">Trống</option>
                        <option value="false">Bận</option>
                    </select>
                    <span asp-validation-for="Tinhtrang" class="text-danger"></span>
                </div>

                <!-- Room note input -->
                <div class="form-group">
                    <label asp-for="Ghichu" class="font-weight-bold">Ghi chú</label>
                    <input type="text" asp-for="Ghichu" class="form-control" />
                </div>
            </div>
        </div>

        <!-- Button section -->
        <div class="row mt-4">
            <div class="col-md-6 d-flex justify-content-start">
                <!-- Button to view the room list (Aligned to the left) -->
                <a asp-action="RoomList" class="btn btn-warning btn-block mr-auto">Xem danh sách phòng</a>
            </div>
            <div class="col-md-6 d-flex justify-content-end">
                <!-- Button to update room with room ID (Aligned to the right) -->
                <button type="submit" class="btn btn-primary btn-block ml-auto" asp-route-roomid="@Model.Map">Cập nhật phòng</button>
            </div>
        </div>
    </form>
</div>

<!-- JavaScript section to update price based on room type -->
<script>
    document.getElementById("roomType").addEventListener("change", function () {
        var selectedType = this.value;
        var priceField = document.getElementById("Price");

        // Set price based on selected room type
        switch (selectedType) {
            case "Vip":
                priceField.value = 500000;
                break;
            case "BinhDan":
                priceField.value = 700000;
                break;
            case "GiaDinh":
                priceField.value = 1200000;
                break;
            default:
                priceField.value = 0;
                break;
        }
    });
</script>
